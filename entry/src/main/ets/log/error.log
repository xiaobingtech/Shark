Run cd /home/runner/work/Shark/Shark

å¼€å§‹ç­¾å release APP...

æœªæ‰¾åˆ° release æœªç­¾åçš„ APP æ–‡ä»¶ï¼Œå°è¯•æŸ¥æ‰¾å…¶ä»–...

æ‰¾åˆ°æœªç­¾åçš„æ–‡ä»¶: ./build/outputs/default/Shark-default-unsigned.app

ä½¿ç”¨ç­¾åå·¥å…·: /opt/command-line-tools/sdk/default/openharmony/toolchains/lib/hap-sign-tool.jar

è¾“å…¥æ–‡ä»¶: ./build/outputs/default/Shark-default-unsigned.app

è¾“å‡ºæ–‡ä»¶: build/Shark-default-v0.***.6-signed.app

æ–‡ä»¶ç±»åž‹: app

02-***9 03:24:07.398  INFO - Start sign-app

02-***9 03:24:07.580  INFO - certificate in profile: èŒƒä¸œ(***4999***470***6545***8593)\,Release

02-***9 03:24:07.59***  INFO - no need to sign code for :app

02-***9 03:24:07.6***4  INFO - ./dis.p***2 is exist. Try to load it with given passwd

02-***9 03:24:07.7***6  INFO - Add sign data in sign info list success.

02-***9 03:24:07.726  INFO - Generate signing block success, begin write it to output file

02-***9 03:24:07.727  INFO - Sign Hap success!

02-***9 03:24:07.727  INFO - sign-app success

ç­¾åæˆåŠŸ: build/Shark-default-v0.***.6-signed.app (***.8M)

0s

2s

Run set -e

ðŸ“¤ èŽ·å– Access Token...

API å“åº”: {"access_token":"***","expires_in":***72799}

âœ… Access Token èŽ·å–æˆåŠŸ

ðŸ“¤ èŽ·å–ä¸Šä¼ åœ°å€...

è¯·æ±‚å‚æ•°:

appId: ***

fileName: Shark-default-v0.***.6-signed.app

contentLength: ***88***9***4

sha256: d453c00aac4c49facd8cedbbd99ffbde4d494aba359b7b6***fb76aa2e4cc3b2f***

releaseType: ***

chineseMainlandFlag: ***

client_id: ***

access_token å‰ç¼€: ***

å‘é€è¯·æ±‚...

API å“åº”çŠ¶æ€ç : 403

API å“åº”å†…å®¹: * Host connect-api.cloud.huawei.com:443 was resolved.

* IPv6: (none)

* IPv4: ***3.227.87.***2, ***3.227.87.***4, ***3.227.87.40, ***3.227.87.***

*   Trying ***3.227.87.***2:443...

* Connected to connect-api.cloud.huawei.com (***3.227.87.***2) port 443

* ALPN: curl offers h2,http/***.***

} [5 bytes data]

* TLSv***.3 (OUT), TLS handshake, Client hello (***):

} [5***2 bytes data]

*  CAfile: /etc/ssl/certs/ca-certificates.crt

*  CApath: /etc/ssl/certs

{ [5 bytes data]

* TLSv***.3 (IN), TLS handshake, Server hello (2):

{ [***22 bytes data]

* TLSv***.3 (IN), TLS handshake, Encrypted Extensions (8):

{ [***0 bytes data]

* TLSv***.3 (IN), TLS handshake, Certificate (***):

{ [4***29 bytes data]

* TLSv***.3 (IN), TLS handshake, CERT verify (***5):

{ [392 bytes data]

* TLSv***.3 (IN), TLS handshake, Finished (20):

{ [36 bytes data]

* TLSv***.3 (OUT), TLS change cipher, Change cipher spec (***):

} [*** bytes data]

* TLSv***.3 (OUT), TLS handshake, Finished (20):

} [36 bytes data]

* SSL connection using TLSv***.3 / TLS_AES_***28_GCM_SHA256 / X255***9 / RSASSA-PSS

* ALPN: server did not agree on a protocol. Uses default.

* Server certificate:

*  subject: C=CN; ST=Jiangsu; L=Nanjing; O=Huawei Software Technologies Co., Ltd.; CN=petalmaps.com

*  start date: Jul ***7 03:26:02 2025 GMT

*  expire date: Aug ***8 03:26:0*** 2026 GMT

*  subjectAltName: host "connect-api.cloud.huawei.com" matched cert's "*.cloud.huawei.com"

*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 20***8

*  SSL certificate verify ok.

*   Certificate level 0: Public *** type RSA (3072/***28 Bits/secBits), signed using sha256WithRSAEncryption

*   Certificate level ***: Public *** type RSA (2048/***2 Bits/secBits), signed using sha256WithRSAEncryption

*   Certificate level 2: Public *** type RSA (2048/***2 Bits/secBits), signed using sha256WithRSAEncryption

* using HTTP/***.x

} [5 bytes data]

> GET /api/publish/v2/upload-url/for-obs?appId=***&fileName=Shark-default-v0.***.6-signed.app&contentLength=***88***9***4&sha256=d453c00aac4c49facd8cedbbd99ffbde4d494aba359b7b6***fb76aa2e4cc3b2f***&releaseType=***&chineseMainlandFlag=*** HTTP/***.***

> Host: connect-api.cloud.huawei.com

> User-Agent: curl/8.5.0

> Authorization: ***

> client_id: ***

> Accept: application/json

>

{ [5 bytes data]

* TLSv***.3 (IN), TLS handshake, Newsession Ticket (4):

{ [***57 bytes data]

< HTTP/***.*** 403 client token authorization fail.

< Content-Type: application/json

< Content-Length: 0

< Connection: keep-alive

< Date: Thu, ***9 Feb 2026 03:24:09 GMT

< X-Cache: Error from cloudfront

< Via: ***.*** ***3d2aa888cce585a7e25***9e366883656.cloudfront.net (CloudFront)

< X-Amz-Cf-Pop: ORD58-P***6

< X-Amz-Cf-Id: 0rBd5a3bD8zKtKIHoDhMoW2auD9EGFp3LsJde-2***j5IT96yUWgzM4A==

<

* Connection #0 to host connect-api.cloud.huawei.com left intact

âŒ èŽ·å–ä¸Šä¼ åœ°å€å¤±è´¥ï¼ŒHTTP çŠ¶æ€ç : 403